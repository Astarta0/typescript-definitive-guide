<section id="Sovmestimost-Tipov-Types-Compatibility" name="Совместимость Типов (Types Compatibility)" class="subchapter">
            <h2 class="subchapter-title">
                <button class="subchapter-title__button__copy-to-buffer copy-to-buffer" data="Sovmestimost-Tipov-Types-Compatibility" type="absolute-url">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <use href="#icon_link"/>
                    </svg>
                </button>
                Совместимость Типов (Types Compatibility)
            </h2>
        
<hr>
<p>Немаловажной особенностью типизации является понятие совместимости типов.</p>
<p><em>Совместимость типов</em> — это механизм, по которому происходит сопоставление типов. Простыми словами, совместимость типов — это совокупность правил, на основе которых программа, анализируя два типа данных, принимает решение о возможности одного типа данных заменить другой тип данных таким образом, чтобы замена не нарушила выполнение программы.</p>
<p>Существует несколько основных механизмов и выбор конкретного зависит от случая, при котором возникает потребность сопоставления типов данных. Один из таких механизмов состоит из совокупности правил, составляющих такое понятие, как типизация. Из существующего множества правил можно выделить несколько групп, которые образуют три вида типизации — номинативную, структурную и утиную.</p>
<p>Чтобы различия между ними были более очевидными, все они будут рассматриваться на одном примере, диаграмма которого показана ниже.</p>
<p><img src="/typescript-definitive-guide/book/images/type-system/nominative-types-shared.png" class="book__image"></p>
</section><section id="Nominativnaya-Tipizaciya-nominative-typing" name="Номинативная Типизация (nominative typing)" class="subchapter">
            <h2 class="subchapter-title">
                <button class="subchapter-title__button__copy-to-buffer copy-to-buffer" data="Nominativnaya-Tipizaciya-nominative-typing" type="absolute-url">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <use href="#icon_link"/>
                    </svg>
                </button>
                Номинативная Типизация (nominative typing)
            </h2>
        
<hr>
<p><em>Номинативная типизация</em> (<em>nominative typing</em>) устанавливает совместимость типов данных основываясь на идентификаторах типов (ссылках). Простыми словами, при проверке на совместимость компилятор проверяет иерархию типов на признаки наследования и реализацию интерфейсов. То есть, тип B будет совместим с типом A только тогда, когда он является его предком (<code class="inline-code">extends</code>). Кроме того, тип B будет совместим с интерфейсом IA только в том случае, если он или один из его предков реализует его явно (<code class="inline-code">implements</code>).</p>
<p><img src="/typescript-definitive-guide/book/images/type-system/nominative-types-nominative-principle.png" class="book__image"></p>
<p>Как можно понять по изображению выше, при проверке на совместимость типа <code class="inline-code">Bird</code> с типом <code class="inline-code">Animal</code> компилятор обходит дерево в поисках наличия ссылки на тип <code class="inline-code">Animal</code> и, обнаружив её, приходит к выводу, что типы совместимы. Тот же самый процесс требуется для установления совместимости типа <code class="inline-code">Bird</code> с типом интерфейса <code class="inline-code">INameable</code>. Полная картина совместимости изображена на диаграмме ниже.</p>
<p><img src="/typescript-definitive-guide/book/images/type-system/nominative-types-nominative-compatible.png" class="book__image"></p>
<p>Номинативная типизация присуща исключительно статически типизированным языкам.</p>
<p>К языкам с номинативной типизацией относятся <em>Java</em>, <em>C#</em> и другие.</p>
</section><section id="Strukturnaya-Tipizaciya-structural-typing" name="Структурная Типизация (structural typing)" class="subchapter">
            <h2 class="subchapter-title">
                <button class="subchapter-title__button__copy-to-buffer copy-to-buffer" data="Strukturnaya-Tipizaciya-structural-typing" type="absolute-url">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <use href="#icon_link"/>
                    </svg>
                </button>
                Структурная Типизация (structural typing)
            </h2>
        
<hr>
<p><em>Структурная типизация</em> — это принцип, определяющий совместимость типов основываясь не на иерархии наследования или явной реализации интерфейсов, а на их описании.</p>
<p><img src="/typescript-definitive-guide/book/images/type-system/nominative-types-structural-principle.png" class="book__image"></p>
<p>Компилятор считает типы совместимыми, если сопоставляемый тип имеет все признаки типа, с которым сопоставляется. Простыми словами, чтобы быть совместимым, сопоставляемый тип должен иметь те же ключи с теми же (идентичными или совместимыми) типами что и тип, с которым происходит сопоставление. Полная картина совместимости в структурной типизации изображена на диаграмме ниже.</p>
<p><img src="/typescript-definitive-guide/book/images/type-system/nominative-types-structural-compatible.png" class="book__image"></p>
<p>Структурная типизация присуща исключительно языкам с явной типизацией (глава <a class="book__chapter__chapter-link" href="/book/contents/Ekskurs-v-tipizaciu-Silnaya-i-slabaya-tipizaciya" title="Экскурс в типизацию - Сильная и слабая типизация" target="_blank">Экскурс в типизацию - Сильная и слабая типизация</a>).</p>
<p>К языкам со структурной типизацией относятся <em>TypeScript</em>, <em>Scala</em> и им подобные.</p>
</section><section id="Utinaya-Tipizaciya-Duck-typing" name="Утиная Типизация (Duck typing)" class="subchapter">
            <h2 class="subchapter-title">
                <button class="subchapter-title__button__copy-to-buffer copy-to-buffer" data="Utinaya-Tipizaciya-Duck-typing" type="absolute-url">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <use href="#icon_link"/>
                    </svg>
                </button>
                Утиная Типизация (Duck typing)
            </h2>
        
<hr>
<p><em>Утиная типизация</em>, как и в случае со структурной типизацией — это принцип, определяющий совместимость типов основываясь не на иерархии наследования или явной реализации интерфейсов, а на их описании. Простыми словами, утиная типизация ничем не отличается от структурной, за исключением того, что присуща лишь языкам с <em>динамическим связыванием</em> (динамическая типизация).</p>
<p>Термин «Утиная типизация» произошёл от английского выражения <em>duck test</em>, который в оригинале звучит как -
<em>Если это выглядит как утка, плавает как утка и крякает как утка, то это, вероятно, и есть утка</em>.</p>
<p>Так как утиная типизация не отличается от структурной, то в качестве примеров совместимости можно воспользоваться диаграммой из предыдущего раздела, посвященного структурной типизации.</p>
<p>К языкам с утиной типизацией относятся <em>Python</em>, <em>JavaScript</em> и другие.</p>
</section><section id="Itogi" name="Итоги" class="subchapter">
            <h2 class="subchapter-title">
                <button class="subchapter-title__button__copy-to-buffer copy-to-buffer" data="Itogi" type="absolute-url">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <use href="#icon_link"/>
                    </svg>
                </button>
                Итоги
            </h2>
        
<ul class="book__list">
<li class="book__list__item">Совместимость типов — это механизм, по которому происходит сопоставление типов.</li>
<li class="book__list__item">Номинативная типизация определяет совместимость типов данных основываясь на иерархии наследования и явно реализуемых интерфейсах и присуща исключительно статически типизированным языкам.</li>
<li class="book__list__item">Структурная типизация определяет совместимость типов основываясь на их описании и присуща исключительно статически типизированным языкам.</li>
<li class="book__list__item">Утиная типизация, как и в случае со структурной типизацией, определяет совместимость типов основываясь на их описании и присуща исключительно языкам с динамической типизацией.</li>
</ul>
</section>