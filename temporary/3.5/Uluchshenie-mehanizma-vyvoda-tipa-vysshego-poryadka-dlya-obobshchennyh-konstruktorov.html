<p>В <em>TypeScript</em> версии <code class="inline-code">v3.4</code> был усовершенствован механизм вывода типов для обобщенных функций реализующих функциональную композицию. Это в свою очередь повысило эффективность использования   <em>функциональных-hoc</em> при разработке <em>React-приложений</em>. С выходом версии <code class="inline-code">v3.5</code> подобный механизм был перенесен на конструкторы классов, что также повысило эффективность вывода типов при использования их в качестве <em>классовых-hoc</em>.</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">type</span> ComponentClass&#x3C;P> = <span class="hljs-keyword">new</span> (props: P) => Component&#x3C;P>;
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> Component&#x3C;P> {
    props: P;
    <span class="hljs-keyword">constructor</span>(<span class="hljs-params">props: P</span>);
}

type HocProps = { hocProp: <span class="hljs-built_in">string</span>; }
<span class="hljs-keyword">declare</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hoc</span>&#x3C;<span class="hljs-title">WrappedProps</span>>(<span class="hljs-params">WrappedComponent: ComponentClass&#x3C;WrappedProps></span>): <span class="hljs-title">ComponentClass</span>&#x3C;<span class="hljs-title">WrappedProps</span> &#x26; <span class="hljs-title">HocProps</span>> </span>;

<span class="hljs-keyword">type</span> NestedProps&#x3C;T> = { nestedProp: T };
<span class="hljs-keyword">class</span> CustomComponent&#x3C;T> <span class="hljs-keyword">extends</span> Component&#x3C;NestedProps&#x3C;T>> {}

<span class="hljs-comment">/**
 * &#x3C;v3.5
 * const WrappedComponent: ComponentClass&#x3C;NestedProps&#x3C;{}> &#x26; HocProps>
 * 
 * >=v3.5
 * const WrappedComponent: new &#x3C;T>(props: NestedProps&#x3C;T> &#x26; HocProps) => Component&#x3C;NestedProps&#x3C;T> &#x26; HocProps>
 * 
 */</span>
<span class="hljs-keyword">const</span> WrappedComponent = hoc(CustomComponent);</code></pre>
