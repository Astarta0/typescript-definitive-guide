{"expireTime":9007200833493979000,"key":"transformer-remark-markdown-ast-ce558f0746e286f5535239cd89ae5c3b-gatsby-remark-collect-info-for-block-code-before-prismjsgatsby-remark-prismjsgatsby-remark-decorate-block-codegatsby-remark-add-heading-link-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"html","value":"\n    <button class=\"content__button_copy-to-buffer\" path=\"rasshirenie-vyvoda-ob-oshibkah-pri-rabote-s-promise\">\n      <svg class=\"svg-icon copy-to-buffer-button__svg-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <use xlink:href=\"#iconmonstr-link\"></use>\n      </svg>\n      <div class=\"content__tooltip_copy-to-buffer tooltip\">\n        Скопировать ссылку в буффер обмена\n      </div>\n    </button>\n  "},{"type":"span","children":[{"type":"text","value":"Расширение вывода об ошибках при работе с Promise"}],"data":{"hName":"span"}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":52,"offset":51},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Поскольку работа с ","position":{"start":{"line":3,"column":1,"offset":53},"end":{"line":3,"column":20,"offset":72},"indent":[]}},{"type":"inlineCode","value":"Promise","position":{"start":{"line":3,"column":20,"offset":72},"end":{"line":3,"column":29,"offset":81},"indent":[]}},{"type":"text","value":" является очень важной частью повседневной разработки, ","position":{"start":{"line":3,"column":29,"offset":81},"end":{"line":3,"column":84,"offset":136},"indent":[]}},{"type":"inlineCode","value":"TypeScript","position":{"start":{"line":3,"column":84,"offset":136},"end":{"line":3,"column":96,"offset":148},"indent":[]}},{"type":"text","value":", начиная с версии ","position":{"start":{"line":3,"column":96,"offset":148},"end":{"line":3,"column":115,"offset":167},"indent":[]}},{"type":"inlineCode","value":"v3.6","position":{"start":{"line":3,"column":115,"offset":167},"end":{"line":3,"column":121,"offset":173},"indent":[]}},{"type":"text","value":", расширила информирование при возникновении ошибок связанными с ними, а также били добавлены механизмы их быстрогоустранения.","position":{"start":{"line":3,"column":121,"offset":173},"end":{"line":3,"column":247,"offset":299},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":53},"end":{"line":3,"column":247,"offset":299},"indent":[]}},{"type":"html","lang":"typescript","meta":null,"value":"<div class=\"content__code\">\n    <div class=\"content__code-panel_top content__code-panel_lang_typescript\">\n        <span class=\"content_code-label_filepath\"></span>\n        <span class=\"content_code-label_lang\">typescript</span>\n    </div>\n    <div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    age<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPersonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token function\">printPersonInfo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">personData<span class=\"token punctuation\">:</span> Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * До v3.6 возникала ошибка говорящая что\n     * тип Promise&lt;Person> не соответствует типу Person\n     * \n     * Argument of type 'Promise&lt;Person>' is not assignable\n     * to parameter of type 'Person'.\n     * Type 'Promise&lt;Person>' is missing the following properties\n     * from type 'Person': name, agets(2345)\n     * \n     * \n     * После v3.6 вывод расширили предложением пофиксить\n     * ошибку добавлением ключевого слова await\n     * \n     * Did you forget to use 'await'?\n     * \n     */</span>\n    <span class=\"token function\">printPersonInfo</span><span class=\"token punctuation\">(</span><span class=\"token function\">getPersonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Error</span>\n    <span class=\"token function\">printPersonInfo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">getPersonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Ok</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPersonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Также предлагается пофиксить ошибку путем\n     * добавления ключевого слова await \n     * \n     * Property 'json' does not exist on type 'Promise&lt;Response>'.ts(2339)\n     * Did you forget to use 'await'?\n     */</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Error</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Ok</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n    <div class=\"content__code-panel_bottom content__code-panel_lang_typescript\"></div>\n</div>","position":{"start":{"line":5,"column":1,"offset":301},"end":{"line":47,"column":6,"offset":1485},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},"metadata":{"filepath":""}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":47,"column":6,"offset":1485}}}}